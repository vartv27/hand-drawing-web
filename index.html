<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ะะธัะพะฒะฐะฝะธะต ะถะตััะฐะผะธ ััะบะธ</title>
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <p class="instructions">
            ๐น ะะพะบะฐะถะธัะต ััะบั | โ๏ธ ะกะพะผะบะฝะธัะต ะฟะฐะปััั ะดะปั ัะธัะพะฒะฐะฝะธั | โ๏ธ ะะปะตะฒะพ-ะฒะฟัะฐะฒะพ: ะฒััะพัะฐ ัะพะฝะฐ | โ๏ธ ะะฒะตัั-ะฒะฝะธะท: ะณัะพะผะบะพััั
        </p>
        
        <div class="canvas-container">
            <video id="video" autoplay playsinline></video>
            <canvas id="drawingCanvas"></canvas>
            <canvas id="handCanvas"></canvas>
        </div>
        
        <div class="controls">
            <button id="clearBtn">๐๏ธ ะัะธััะธัั</button>
            <button id="audioBtn">๐ ะัะบะปััะธัั ะทะฒัะบ</button>
            <button id="switchCameraBtn" style="display: none;">๐ ะะฐะผะตัะฐ</button>
            <label>
                ะะตะปะพะดะธั:
                <select id="melodySelect">
                    <option value="scale">๐ต ะะฐะผะผะฐ</option>
                    <option value="twinkle">โญ ะะฐะปะตะฝัะบะฐั ะทะฒะตะทะดะพัะบะฐ</option>
                    <option value="birthday">๐ ะก ะดะฝะตะผ ัะพะถะดะตะฝะธั</option>
                    <option value="jingle">๐ ะะพะปะพะบะพะปััะธะบะธ</option>
                    <option value="ode">๐ผ ะะดะฐ ะบ ัะฐะดะพััะธ</option>
                    <option value="fur">๐น ะ ะญะปะธะทะต</option>
                    <option value="mario">๐ ะะฐัะธะพ</option>
                    <option value="imperial">โญ ะะผะฟะตััะบะธะน ะผะฐัั</option>
                    <option value="melody1">๐ถ ะะตะปะพะดะธั 1</option>
                    <option value="melody2">๐ถ ะะตะปะพะดะธั 2</option>
                    <option value="melody3">๐ถ ะะตะปะพะดะธั 3</option>
                </select>
            </label>
            <button id="playSelectedBtn">โถ๏ธ ะะณัะฐัั</button>
            <label>
                ะะฝััััะผะตะฝั:
                <select id="instrumentSelect">
                    <option value="realpiano">๐น ะะตะฐะปัะฝะพะต ะฟะธะฐะฝะธะฝะพ (Salamander)</option>
                    <option value="flute1">๐ต ะคะปะตะนัะฐ ะบะปะฐััะธัะตัะบะฐั</option>
                    <option value="flute2">๐ถ ะคะปะตะนัะฐ ั ะฒะธะฑัะฐัะพ</option>
                    <option value="flute3">๐ฌ๏ธ ะคะปะตะนัะฐ ะฒะพะทะดััะฝะฐั</option>
                    <option value="panflute">๐ ะคะปะตะนัะฐ ะะฐะฝะฐ</option>
                    <option value="recorder">๐ฏ ะะปะพะบัะปะตะนัะฐ</option>
                    <option value="piano">๐น ะะธะฐะฝะธะฝะพ (ัะธะฝัะตะท)</option>
                    <option value="epiano">๐น ะญะปะตะบััะพะฟะธะฐะฝะพ</option>
                    <option value="violin">๐ป ะกะบัะธะฟะบะฐ</option>
                    <option value="cello">๐ผ ะะธะพะปะพะฝัะตะปั</option>
                    <option value="guitar">๐ธ ะะธัะฐัะฐ</option>
                    <option value="eguitar">๐ธ ะญะปะตะบััะพะณะธัะฐัะฐ</option>
                    <option value="bass">๐ธ ะะฐั-ะณะธัะฐัะฐ</option>
                    <option value="ukulele">๐ช ะฃะบัะปะตะปะต</option>
                    <option value="clarinet">๐บ ะะปะฐัะฝะตั</option>
                    <option value="trumpet">๐บ ะขััะฑะฐ</option>
                    <option value="saxophone">๐ท ะกะฐะบัะพัะพะฝ</option>
                    <option value="theremin">๐ ะขะตัะผะตะฝะฒะพะบั</option>
                    <option value="organ">๐น ะัะณะฐะฝ</option>
                    <option value="xylophone">๐ถ ะัะธะปะพัะพะฝ</option>
                    <option value="glockenspiel">๐ ะะปะพะบะตะฝัะฟะธะปั</option>
                    <option value="vibraphone">๐ถ ะะธะฑัะฐัะพะฝ</option>
                    <option value="marimba">๐ต ะะฐัะธะผะฑะฐ</option>
                    <option value="bells">๐ ะะพะปะพะบะพะปััะธะบะธ</option>
                    <option value="harp">๐ช ะััะฐ</option>
                </select>
            </label>
            <label>
                ะฆะฒะตั:
                <input type="color" id="colorPicker" value="#ff0000">
            </label>
        </div>
        
        <div id="status">ะะฝะธัะธะฐะปะธะทะฐัะธั ะบะฐะผะตัั...</div>

        <div id="debugInfo">
            <div>ะฃะบะฐะทะฐัะตะปัะฝัะน: <span id="indexCoords">-</span></div>
            <div>ะะพะปััะพะน: <span id="thumbCoords">-</span></div>
            <div>ะะฐัััะพัะฝะธะต: <span id="distance">-</span></div>
            <div>ะะฐะทะผะตั ััะบะธ: <span id="depth">-</span></div>
            <div>ะกัะฐััั: <span id="pinchStatus">-</span></div>
            <div>ะะฒัะบ: <span id="frequency">-</span></div>
        </div>

        <!-- ะะพะฝัะพะปั ะดะปั ะผะพะฑะธะปัะฝัั ััััะพะนััะฒ -->
        <div id="mobileConsole"></div>

        <!-- ะะฝะพะฟะบะธ ัะฟัะฐะฒะปะตะฝะธั ะพะบัะฐะฒะฐะผะธ ะถะตััะฐะผะธ -->
        <div id="octaveDownGesture" class="gesture-button left">
            <div class="gesture-button-content">
                <span class="gesture-icon">โ</span>
                <span class="gesture-text">ะะบัะฐะฒะฐ ะฒะฝะธะท</span>
            </div>
        </div>

        <!-- ะะพะฝััะพะปั ะพะบัะฐะฒั (ะพะฑััะฝัะต ะบะฝะพะฟะบะธ) -->
        <div class="octave-controls">
            <button id="octaveDown" class="octave-btn">โ</button>
            <div class="octave-display">
                <span class="octave-label">ะะบัะฐะฒะฐ</span>
                <span id="octaveValue">0</span>
            </div>
            <button id="octaveUp" class="octave-btn">+</button>
        </div>

        <div id="octaveUpGesture" class="gesture-button right">
            <div class="gesture-button-content">
                <span class="gesture-icon">+</span>
                <span class="gesture-text">ะะบัะฐะฒะฐ ะฒะฒะตัั</span>
            </div>
        </div>

        <!-- ะะปะฐะฒะธัะธ ะฟะธะฐะฝะธะฝะพ -->
        <div id="piano">
            <div class="piano-keys">
                <!-- ะะบัะฐะฒะฐ ะฑัะดะตั ะณะตะฝะตัะธัะพะฒะฐัััั ัะตัะตะท JS -->
            </div>
        </div>
    </div>

    <!-- Tone.js for realistic instrument samples -->
    <script src="https://cdn.jsdelivr.net/npm/tone@latest/build/Tone.min.js"></script>

    <!-- Soundfont Player for realistic piano sounds -->
    <script src="https://cdn.jsdelivr.net/npm/soundfont-player@latest/dist/soundfont-player.min.js"></script>

    <!-- MediaPipe Hands -->
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/camera_utils/camera_utils.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/drawing_utils/drawing_utils.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/hands/hands.js" crossorigin="anonymous"></script>

    <!-- Main Script -->
    <script src="script.js"></script>
</body>
</html>
